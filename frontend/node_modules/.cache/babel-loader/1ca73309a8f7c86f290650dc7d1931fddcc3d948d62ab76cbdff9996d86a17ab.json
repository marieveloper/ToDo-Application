{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n// import configuration with API url; @ refers to the src directory\nimport config from \"@/config\";\n// import library for HTTP requests\nimport axios from \"axios\";\n// import JS method to use in this view\nimport { showToastMessage } from \"../js/util\";\nexport default {\n  name: \"ToDoDetails\",\n  data() {\n    return {\n      todo: {\n        title: \"\",\n        description: \"\",\n        finished: \"\",\n        assigneeList: [],\n        createdDate: \"\",\n        dueDate: \"\",\n        finishedDate: \"\"\n      },\n      fields: [{\n        key: \"selected\",\n        label: 'Selected'\n      }, {\n        key: \"prename\",\n        label: \"Prename\",\n        sortable: true\n      }, {\n        key: \"name\",\n        label: \"Name\",\n        sortable: true\n      }, {\n        key: \"email\",\n        label: \"Email\",\n        sortable: true\n      }],\n      items: [],\n      selectMode: 'multi',\n      selected: [],\n      show: false\n    };\n  },\n  computed: {},\n  methods: {\n    //fetch this ToDo\n    fetchTodo: function () {\n      axios.get(`${config.apiBaseUrl}/todos/${this.$route.params.id}`).then(response => {\n        // log response data to the browser console\n        console.log(response.data);\n        // assign response to data variable\n        this.todo = response.data;\n        this.todo.createdDate = new Date(this.todo.createdDate);\n        this.todo.dueDate = new Date(this.todo.dueDate);\n        this.todo.finishedDate = new Date(this.todo.finishedDate);\n      });\n    },\n    onRowSelected(items) {\n      this.selected = items;\n    },\n    // send GET request to API to fetch all assignees\n    fetchAllAssignees: function () {\n      //show model\n      this.show = true;\n      axios.get(`${config.apiBaseUrl}/assignees`).then(response => {\n        // log response data to the browser console\n        console.log(response.data);\n        // assign response to data variable\n        this.items = response.data;\n      });\n    },\n    //executed on form submit for assignees\n    onSubmitAssignees: function (event) {\n      //send selected assignees to backend\n      event.preventDefault();\n      axios.put(`${config.apiBaseUrl}/todos/${this.todo.id}`, this.todo).then(response => {\n        //selected assignees\n        console.log(this.selected);\n        this.todo.assigneeList = this.selected;\n        console.log(this.todo.assigneeList);\n        // log response data to the browser console\n        console.log(response.data);\n        // show success message\n        showToastMessage(this, \"Alert\", `Successfully updated selected Assignees!`, \"success\");\n        // close modal\n        this.show = false;\n        // update todo\n        this.fetchTodo();\n      }).catch(error => {\n        // log error\n        console.log(error);\n        // show error message\n        const errObject = error.response.data.errors[0];\n        showToastMessage(this, \"Alert\", `Error: ${errObject.field} ${errObject.defaultMessage}!`, \"danger\");\n      });\n    },\n    // executed on form submit\n    onSubmit: function (event) {\n      event.preventDefault();\n      axios.put(`${config.apiBaseUrl}/todos/${this.todo.id}`, this.todo).then(response => {\n        // log response data to the browser console\n        console.log(response.data);\n        // show success message\n        showToastMessage(this, \"Alert\", `Successfully updated assignee with ID ${response.data.id}!`, \"success\");\n        // redirect to the assignee list view\n        this.$router.push(\"/todos\");\n      }).catch(error => {\n        // log error\n        console.log(error);\n        // show error message\n        const errObject = error.response.data.errors[0];\n        showToastMessage(this, \"Alert\", `Error: ${errObject.field} ${errObject.defaultMessage}!`, \"danger\");\n      });\n    },\n    deleteToDo: function () {\n      // send DELETE request to API to delete the assignee by ID\n      axios.delete(`${config.apiBaseUrl}/todos/${this.todo.id}`).then(() => {\n        // show success message\n        showToastMessage(this, \"Alert\", `Successfully deleted assignee with ID ${this.todo.id}!`, \"success\");\n        // navigate to assignees list\n        this.$router.push(\"/todos\");\n      });\n    }\n  },\n  // executed after the component has been started\n  created: function () {\n    axios.get(`${config.apiBaseUrl}/todos/${this.$route.params.id}`).then(response => {\n      // log response data to the browser console\n      console.log(response.data);\n      // assign response to data variable\n      this.todo = response.data;\n      this.todo.createdDate = new Date(this.todo.createdDate);\n      this.todo.dueDate = new Date(this.todo.dueDate);\n      this.todo.finishedDate = new Date(this.todo.finishedDate);\n    });\n  }\n};","map":{"version":3,"mappings":";AA4GA;AACA;AACA;AACA;AACA;AACA;AAEA;EACAA;EACAC;IACA;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC,SACA;QAAAC;QAAAC;MAAA,GACA;QAAAD;QAAAC;QAAAC;MAAA,GACA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAAF;QAAAC;QAAAC;MAAA,EACA;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC,WAEA;EACAC;IACA;IACAC;MACAC,MACAC,2DACAC;QACA;QACAC;QACA;QACA;QACA;QACA;QACA;MACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;MACA;MACAL;QACA;QACAG;QACA;QACA;MACA;IACA;IACA;IACAG;MACA;MACAC;MACAP,MACAQ,6DACAN;QACA;QACAC;QACA;QACAA;QACA;QACAA;QACA;QACAM,iBACA,MACA,SACA,4CACA,UACA;QACA;QACA;QACA;QACA;MACA,GACAC;QACA;QACAP;QACA;QACA;QACAM,iBACA,MACA,SACA,0DACA,SACA;MACA;IACA;IACA;IACAE;MACAJ;MACAP,MACAQ,6DACAN;QACA;QACAC;QACA;QACAM,iBACA,MACA,SACA,8DACA,UACA;QACA;QACA;MACA,GACAC;QACA;QACAP;QACA;QACA;QACAM,iBACA,MACA,SACA,0DACA,SACA;MACA;IACA;IACAG;MACA;MACAZ,MACAa,qDACAX;QACA;QACAO,iBACA,MACA,SACA,0DACA,UACA;QACA;QACA;MACA;IACA;EACA;EAGA;EACAK;IACAd,MACAC,2DACAC;MACA;MACAC;MACA;MACA;MACA;MACA;MACA;IACA;EACA;AACA","names":["name","data","todo","title","description","finished","assigneeList","createdDate","dueDate","finishedDate","fields","key","label","sortable","items","selectMode","selected","show","computed","methods","fetchTodo","axios","get","then","console","onRowSelected","fetchAllAssignees","onSubmitAssignees","event","put","showToastMessage","catch","onSubmit","deleteToDo","delete","created"],"sourceRoot":"src/views","sources":["ToDo-details.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <h1>ToDo Details: {{ todo.title }}</h1>\r\n        <div>\r\n            <b-form @submit=\"onSubmit\">\r\n                <b-form-group label=\"Title:\">\r\n                    <b-form-input\r\n                        v-model=\"todo.title\"\r\n                        type=\"text\"\r\n                        required\r\n                    ></b-form-input>\r\n                </b-form-group>\r\n                <b-form-group label=\"Description:\">\r\n                    <b-form-input\r\n                        v-model=\"todo.description\"\r\n                        type=\"text\"\r\n                        required\r\n                    ></b-form-input>\r\n                </b-form-group>\r\n                <b-form-group label=\"Finished:\">\r\n                     <b-form-checkbox\r\n                        v-model=\"todo.finished\"\r\n                        type=\"boolean\"\r\n                    ></b-form-checkbox>\r\n                </b-form-group>\r\n                <b-form-group>\r\n                    <b-btn class=\"m-1\" pill variant=\"light\" @click=\"fetchAllAssignees\">\r\n                        Select Assignees <b-icon icon=\"person-plus\"></b-icon>\r\n                         \r\n                    </b-btn>\r\n                </b-form-group>\r\n                <b-form-group label=\"Created Date\">\r\n                    <b-form-datepicker id=\"example-datepicker\" v-model=\"todo.createdDate\" type=\"date\"\r\n                                       class=\"mb-2\"></b-form-datepicker>\r\n                </b-form-group>\r\n                <b-form-group label=\"Due Date\">\r\n                    <b-form-datepicker id=\"example-datepicker\" v-model=\"todo.dueDate\" class=\"mb-2\"></b-form-datepicker>\r\n                </b-form-group>\r\n                <b-form-group label=\"Finished Date\">\r\n                    <b-form-datepicker id=\"example-datepicker\" v-model=\"todo.finishedDate\"\r\n                                       class=\"mb-2\"></b-form-datepicker>\r\n                </b-form-group>\r\n                <b-button type=\"submit\" variant=\"primary\">Submit</b-button>\r\n                <b-button\r\n                    type=\"button\"\r\n                    variant=\"danger\"\r\n                    v-on:click=\"deleteToDo()\"\r\n                >Delete\r\n                </b-button\r\n                >\r\n            </b-form>\r\n        </div>\r\n   \r\n    <b-modal\r\n        v-model=\"show\"\r\n        ref=\"modal\"\r\n        title=\"Select Assignees\"\r\n        hide-footer\r\n    >\r\n        <div>\r\n            <div>\r\n                <b-form @submit=\"onSubmitAssignees\">\r\n                    <b-table \r\n                        noCollapse \r\n                        hover \r\n                        responsive \r\n                        :items=\"items\" \r\n                        :fields=\"fields\"\r\n                        :select-mode=\"selectMode\" ref=\"selectableTable\"\r\n                        selectable\r\n                        @row-selected=\"onRowSelected\">\r\n                        <template v-slot:cell(selected)=\"{rowSelected}\">\r\n                            <template v-if=\"rowSelected\">\r\n                                <span aria-hidden=\"true\">&check;</span>\r\n                                <span class=\"sr-only\">Selected</span>\r\n                            </template>\r\n                            <template v-else>\r\n                                <span aria-hidden=\"true\">&nbsp;</span>\r\n                                <span class=\"sr-only\">Not selected</span>\r\n                            </template>\r\n                        </template>\r\n                    </b-table>\r\n                    <div class=\"w-100\">\r\n                        <b-button\r\n                            variant=\"danger\"\r\n                            size=\"sm\"\r\n                            class=\"float-right\"\r\n                            @click=\"show = false\"\r\n                        >\r\n                            Cancel\r\n                        </b-button>\r\n                        <b-button\r\n                            variant=\"primary\"\r\n                            size=\"sm\"\r\n                            class=\"float-right\"\r\n                            type=\"submit\"\r\n                        >\r\n                            Submit\r\n                        </b-button>\r\n                    </div>\r\n                </b-form>\r\n            </div>\r\n        </div>\r\n    </b-modal>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n// import configuration with API url; @ refers to the src directory\r\nimport config from \"@/config\";\r\n// import library for HTTP requests\r\nimport axios from \"axios\";\r\n// import JS method to use in this view\r\nimport {showToastMessage} from \"../js/util\";\r\n\r\nexport default {\r\n    name: \"ToDoDetails\",\r\n    data() {\r\n        return {\r\n            todo: {\r\n                title: \"\",\r\n                description: \"\",\r\n                finished: \"\",\r\n                assigneeList: [],\r\n                createdDate: \"\",\r\n                dueDate: \"\",\r\n                finishedDate: \"\"\r\n            },\r\n            fields: [\r\n                {key: \"selected\", label: 'Selected'},\r\n                {key: \"prename\", label: \"Prename\", sortable: true},\r\n                {key: \"name\", label: \"Name\", sortable: true},\r\n                {key: \"email\", label: \"Email\", sortable: true}\r\n            ],\r\n            items: [],\r\n            selectMode: 'multi',\r\n            selected: [],\r\n            show: false\r\n        };\r\n    },\r\n    computed:{\r\n        \r\n    },\r\n    methods: {\r\n        //fetch this ToDo\r\n        fetchTodo:function(){\r\n            axios\r\n                .get(`${config.apiBaseUrl}/todos/${this.$route.params.id}`)\r\n                .then((response) => {\r\n                    // log response data to the browser console\r\n                    console.log(response.data);\r\n                    // assign response to data variable\r\n                    this.todo = response.data;\r\n                    this.todo.createdDate = new Date(this.todo.createdDate);\r\n                    this.todo.dueDate = new Date(this.todo.dueDate);\r\n                    this.todo.finishedDate = new Date(this.todo.finishedDate);\r\n                });\r\n        },\r\n        onRowSelected(items) {\r\n            this.selected = items\r\n        },\r\n        // send GET request to API to fetch all assignees\r\n        fetchAllAssignees: function () {\r\n            //show model\r\n            this.show = true;\r\n            axios.get(`${config.apiBaseUrl}/assignees`).then((response) => {\r\n                // log response data to the browser console\r\n                console.log(response.data);\r\n                // assign response to data variable\r\n                this.items = response.data;\r\n            });\r\n        },\r\n        //executed on form submit for assignees\r\n        onSubmitAssignees: function (event) {\r\n            //send selected assignees to backend\r\n            event.preventDefault();\r\n            axios\r\n                .put(`${config.apiBaseUrl}/todos/${this.todo.id}`, this.todo)\r\n                .then((response) => {\r\n                    //selected assignees\r\n                    console.log(this.selected);\r\n                    this.todo.assigneeList = this.selected;\r\n                    console.log(this.todo.assigneeList);\r\n                    // log response data to the browser console\r\n                    console.log(response.data);\r\n                    // show success message\r\n                    showToastMessage(\r\n                        this,\r\n                        \"Alert\",\r\n                        `Successfully updated selected Assignees!`,\r\n                        \"success\"\r\n                    );\r\n                    // close modal\r\n                    this.show = false;\r\n                    // update todo\r\n                    this.fetchTodo();\r\n                })\r\n                .catch((error) => {\r\n                    // log error\r\n                    console.log(error);\r\n                    // show error message\r\n                    const errObject = error.response.data.errors[0];\r\n                    showToastMessage(\r\n                        this,\r\n                        \"Alert\",\r\n                        `Error: ${errObject.field} ${errObject.defaultMessage}!`,\r\n                        \"danger\"\r\n                    );\r\n                });\r\n        },\r\n        // executed on form submit\r\n        onSubmit: function (event) {\r\n            event.preventDefault();\r\n            axios\r\n                .put(`${config.apiBaseUrl}/todos/${this.todo.id}`, this.todo)\r\n                .then((response) => {\r\n                    // log response data to the browser console\r\n                    console.log(response.data);\r\n                    // show success message\r\n                    showToastMessage(\r\n                        this,\r\n                        \"Alert\",\r\n                        `Successfully updated assignee with ID ${response.data.id}!`,\r\n                        \"success\"\r\n                    );\r\n                    // redirect to the assignee list view\r\n                    this.$router.push(\"/todos\");\r\n                })\r\n                .catch((error) => {\r\n                    // log error\r\n                    console.log(error);\r\n                    // show error message\r\n                    const errObject = error.response.data.errors[0];\r\n                    showToastMessage(\r\n                        this,\r\n                        \"Alert\",\r\n                        `Error: ${errObject.field} ${errObject.defaultMessage}!`,\r\n                        \"danger\"\r\n                    );\r\n                });\r\n        },\r\n        deleteToDo: function () {\r\n            // send DELETE request to API to delete the assignee by ID\r\n            axios\r\n                .delete(`${config.apiBaseUrl}/todos/${this.todo.id}`)\r\n                .then(() => {\r\n                    // show success message\r\n                    showToastMessage(\r\n                        this,\r\n                        \"Alert\",\r\n                        `Successfully deleted assignee with ID ${this.todo.id}!`,\r\n                        \"success\"\r\n                    );\r\n                    // navigate to assignees list\r\n                    this.$router.push(\"/todos\");\r\n                });\r\n        }\r\n    },\r\n    \r\n\r\n    // executed after the component has been started\r\n    created: function () {\r\n        axios\r\n            .get(`${config.apiBaseUrl}/todos/${this.$route.params.id}`)\r\n            .then((response) => {\r\n                // log response data to the browser console\r\n                console.log(response.data);\r\n                // assign response to data variable\r\n                this.todo = response.data;\r\n                this.todo.createdDate = new Date(this.todo.createdDate);\r\n                this.todo.dueDate = new Date(this.todo.dueDate);\r\n                this.todo.finishedDate = new Date(this.todo.finishedDate);\r\n            });\r\n    }\r\n};\r\n</script>\r\n\r\n<style>\r\nform .btn {\r\n    margin-right: 5px;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}